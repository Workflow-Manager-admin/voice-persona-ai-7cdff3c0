{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "React component for a chat interface supporting text input, speech recognition, text-to-speech playback, and voice cloning integration points. Handles real-time voice and text chat, conversation playback, and user voice profile management.", "external_files": ["./ChatPane.css"], "external_methods": ["window.SpeechRecognition", "window.webkitSpeechRecognition", "window.speechSynthesis", "window.speechSynthesis.speak", "window.speechSynthesis.cancel"], "published": ["ChatPane"], "classes": [], "methods": [{"name": "handleInputChange", "description": "Updates the input state as user types."}, {"name": "handleSend", "description": "Handles sending user message and simulates AI response."}, {"name": "handleKeyDown", "description": "Triggers send on Enter key press."}, {"name": "startListening", "description": "Starts speech recognition to capture user voice input."}, {"name": "stopListening", "description": "Stops speech recognition."}, {"name": "playBackHistory", "description": "Sequentially plays back all chat messages using speech synthesis, optionally with user cloned voice."}, {"name": "stopPlayback", "description": "Stops ongoing playback of chat history."}, {"name": "synthesizeVoice", "description": "Synthesizes speech for a message, using user cloned voice if available; defaults to TTS."}, {"name": "handleVoiceProfileEnrolled", "description": "Stores user voice profile object into component state."}, {"name": "ChatPane()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "speakNext()", "scope": "ChatPane", "scopeKind": "function", "description": "unavailable"}], "calls": ["window.speechSynthesis.speak", "window.speechSynthesis.cancel"], "search-terms": ["ChatPane React", "voice recognition", "speech synthesis", "voice cloning", "conversation playback", "voice profile setup", "useState hooks", "audio profile", "voice feedback"], "state": 2, "file_id": 13, "knowledge_revision": 50, "git_revision": "ea710cd682cefd5582dc77e1290bb1089a98c18b", "revision_history": [{"28": ""}, {"50": "ea710cd682cefd5582dc77e1290bb1089a98c18b"}], "ctags": [{"_type": "tag", "name": "ChatPane", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^export default function ChatPane() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "emotion", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^    const userMsg = { role: \"user\", text: input.trim(), emotion: null };$/", "language": "JavaScript", "kind": "property", "scope": "ChatPane.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "handleInputChange", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          onChange={handleInputChange}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "handleKeyDown", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          onKeyDown={handleKeyDown}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onKeyDown", "scopeKind": "class"}, {"_type": "tag", "name": "input", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          value={input}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.value", "scopeKind": "class"}, {"_type": "tag", "name": "isListening", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^            onClick={isListening ? stopListening : startListening}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "isPlaying", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^            disabled={isPlaying}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "isPlaying", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^            onClick={isPlaying ? stopPlayback : playBackHistory}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "isPlaying", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          disabled={isPlaying}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^    const userMsg = { role: \"user\", text: input.trim(), emotion: null };$/", "language": "JavaScript", "kind": "property", "scope": "ChatPane.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "speakNext", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^    async function speakNext() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "ChatPane", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^    const userMsg = { role: \"user\", text: input.trim(), emotion: null };$/", "language": "JavaScript", "kind": "property", "scope": "ChatPane.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "userMsg", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^    const userMsg = { role: \"user\", text: input.trim(), emotion: null };$/", "language": "JavaScript", "kind": "class", "scope": "ChatPane", "scopeKind": "class"}], "hash": "a9e3ea1d2f4f3c69ef4c78c1447020d1", "format-version": 4, "code-base-name": "mimic_ai_frontend", "filename": "mimic_ai_frontend/src/components/ChatPane.js", "fields": [{"name": "const userMsg = { role: \"user\", text: input.trim(), emotion: null };", "scope": "ChatPane.userMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={handleInputChange}", "scope": "ChatPane.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "onKeyDown={handleKeyDown}", "scope": "ChatPane.onKeyDown", "scopeKind": "class", "description": "unavailable"}, {"name": "value={input}", "scope": "ChatPane.value", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={isListening ? stopListening : startListening}", "scope": "ChatPane.onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={isPlaying}", "scope": "ChatPane.disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={isPlaying ? stopPlayback : playBackHistory}", "scope": "ChatPane.onClick", "scopeKind": "class", "description": "unavailable"}]}