{"is_source_file": true, "format": "JavaScript", "description": "A React functional component named ChatPane that manages a real-time voice and text chat interface, including emotion analysis, chat history playback with synthesized voice, and user voice profile management for voice cloning. It features stub functions for emotion detection and voice synthesis and integrates basic UI controls for voice recognition and playback.", "external_files": ["./ChatPane.css"], "external_methods": ["window.speechSynthesis.cancel()", "window.speechSynthesis.speak()", "window.dispatchEvent()"], "published": ["default", "ChatPane"], "classes": [], "methods": [{"name": "analyzeEmotion(inputTextOrAudio)", "description": "Simulates emotion detection based on input text or audio, returning mock emotion analysis results.", "scope": "ChatPane", "scopeKind": "function"}, {"name": "handleInputChange", "description": "Updates input state when the user types in the input box."}, {"name": "handleSend", "description": "Handles sending of user message, performs emotion analysis, updates message list, and appends AI echo."}, {"name": "handleKeyDown", "description": "Triggers send on Enter key press."}, {"name": "startListening", "description": "Initializes speech recognition to capture voice input."}, {"name": "stopListening", "description": "Stops speech recognition."}, {"name": "playBackHistory", "description": "Plays back chat history with synthesized voice, using userVoiceProfile if available."}, {"name": "stopPlayback", "description": "Stops ongoing voice playback."}, {"name": "synthesizeVoiceWithUserProfile", "description": "Synthesizes speech using the enrolled user voice profile if available; defaults to system TTS."}, {"name": "handleVoiceProfileEnrolled", "description": "Sets the user's voice profile after enrollment."}, {"name": "ChatPane({ userVoiceProfile: propUserVoiceProfile, onNewEmotionResult })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "speakNext()", "scope": "ChatPane", "scopeKind": "function", "description": "unavailable"}], "calls": ["analyzeEmotion", "synthesizeVoiceWithUserProfile", "window.speechSynthesis.cancel", "window.speechSynthesis.speak", "window.dispatchEvent"], "search-terms": ["ChatPane", "emotion analysis", "voice cloning", "playback controls", "SpeechRecognition", "synthesizeVoiceWithUserProfile", "emotion analytics", "chat history playback"], "state": 2, "file_id": 13, "knowledge_revision": 57, "git_revision": "78a58b5bb8a86a95b1dcf9a6118a05086a279c39", "revision_history": [{"28": ""}, {"50": "ea710cd682cefd5582dc77e1290bb1089a98c18b"}, {"52": "436dcb07cdfabd7690594ca609772761267a6882"}, {"55": "b62db291ac3b11a187176cdefc4ee77df05f6531"}, {"56": "ed1531b285fff99afdbc4fe321e56d2cc044eb68"}, {"57": "78a58b5bb8a86a95b1dcf9a6118a05086a279c39"}], "ctags": [{"_type": "tag", "name": "ChatPane", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^export default function ChatPane({ userVoiceProfile: propUserVoiceProfile, onNewEmotionResult })/", "language": "JavaScript", "kind": "function", "signature": "({ userVoiceProfile: propUserVoiceProfile, onNewEmotionResult })"}, {"_type": "tag", "name": "analyzeEmotion", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^  function analyzeEmotion(inputTextOrAudio) {$/", "language": "JavaScript", "kind": "function", "signature": "(inputTextOrAudio)", "scope": "ChatPane", "scopeKind": "function"}, {"_type": "tag", "name": "emotion", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^      emotion: emotionResult.emoji,$/", "language": "JavaScript", "kind": "property", "scope": "ChatPane.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "handleInputChange", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          onChange={handleInputChange}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "handleKeyDown", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          onKeyDown={handleKeyDown}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onKeyDown", "scopeKind": "class"}, {"_type": "tag", "name": "input", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          value={input}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.value", "scopeKind": "class"}, {"_type": "tag", "name": "isListening", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^            onClick={isListening ? stopListening : startListening}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "isPlaying", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^            disabled={isPlaying}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "isPlaying", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^            onClick={isPlaying ? stopPlayback : playBackHistory}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "isPlaying", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          disabled={isPlaying}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^      role: \"user\",$/", "language": "JavaScript", "kind": "property", "scope": "ChatPane.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "speakNext", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^    async function speakNext() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "ChatPane", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^      text: userText,$/", "language": "JavaScript", "kind": "property", "scope": "ChatPane.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "userMsg", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^    const userMsg = {$/", "language": "JavaScript", "kind": "class", "scope": "ChatPane", "scopeKind": "class"}], "hash": "03c17193e5d26b2f890261426af4e1f6", "format-version": 4, "code-base-name": "mimic_ai_frontend", "filename": "mimic_ai_frontend/src/components/ChatPane.js", "fields": [{"name": "emotion: emotionResult.emoji,", "scope": "ChatPane.userMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={handleInputChange}", "scope": "ChatPane.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "onKeyDown={handleKeyDown}", "scope": "ChatPane.onKeyDown", "scopeKind": "class", "description": "unavailable"}, {"name": "value={input}", "scope": "ChatPane.value", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={isListening ? stopListening : startListening}", "scope": "ChatPane.onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={isPlaying}", "scope": "ChatPane.disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={isPlaying ? stopPlayback : playBackHistory}", "scope": "ChatPane.onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "role: \"user\",", "scope": "ChatPane.userMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "text: userText,", "scope": "ChatPane.userMsg", "scopeKind": "class", "description": "unavailable"}]}