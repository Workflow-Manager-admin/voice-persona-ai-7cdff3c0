{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "A React component named ChatPane that manages a real-time chat interface with voice and text input, emotion analysis, playback features, and voice cloning capabilities. It handles user interactions, simulated emotion analysis, message management, and voice synthesis (with placeholder for backend integration).", "external_files": ["./ChatPane.css"], "external_methods": ["window.speechSynthesis.cancel()"], "published": ["handleVoiceProfileEnrolled", "startListening", "stopListening", "playBackHistory", "stopPlayback", "synthesizeVoiceWithUserProfile"], "classes": [], "methods": [{"name": "analyzeEmotion(inputTextOrAudio)", "description": "Simulates emotion analysis of input text or audio, returning mock results.", "scope": "ChatPane", "scopeKind": "function"}, {"name": "handleInputChange", "description": "Handles updates to the chat input textbox."}, {"name": "handleSend", "description": "Handles sending the user's message, updates message list, and triggers emotion analysis."}, {"name": "handleKeyDown", "description": "Detects Enter key press to send message."}, {"name": "startListening", "description": "Initiates speech recognition for voice input."}, {"name": "stopListening", "description": "Stops speech recognition."}, {"name": "playBackHistory", "description": "Plays back chat history using cloned voice or default speech synthesis."}, {"name": "stopPlayback", "description": "Stops all ongoing speech playback."}, {"name": "synthesizeVoiceWithUserProfile", "description": "Synthesizes a chat message using user's cloned voice if available, otherwise defaults to system speech synthesis."}, {"name": "handleVoiceProfileEnrolled", "description": "Updates the state with enrolled voice profile object."}, {"name": "ChatPane({ userVoiceProfile: propUserVoiceProfile, onNewEmotionResult })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "speakNext()", "scope": "ChatPane", "scopeKind": "function", "description": "unavailable"}], "calls": ["analyzeEmotion", "synthesizeVoiceWithUserProfile", "window.speechSynthesis.cancel()"], "search-terms": ["ChatPane React component", "voice cloning", "emotion analysis stub", "playback history", "voice profile management", "speech recognition"], "state": 2, "file_id": 13, "knowledge_revision": 55, "git_revision": "b62db291ac3b11a187176cdefc4ee77df05f6531", "revision_history": [{"28": ""}, {"50": "ea710cd682cefd5582dc77e1290bb1089a98c18b"}, {"52": "436dcb07cdfabd7690594ca609772761267a6882"}, {"55": "b62db291ac3b11a187176cdefc4ee77df05f6531"}], "ctags": [{"_type": "tag", "name": "ChatPane", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^export default function ChatPane({ userVoiceProfile: propUserVoiceProfile, onNewEmotionResult })/", "language": "JavaScript", "kind": "function", "signature": "({ userVoiceProfile: propUserVoiceProfile, onNewEmotionResult })"}, {"_type": "tag", "name": "analyzeEmotion", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^  function analyzeEmotion(inputTextOrAudio) {$/", "language": "JavaScript", "kind": "function", "signature": "(inputTextOrAudio)", "scope": "ChatPane", "scopeKind": "function"}, {"_type": "tag", "name": "emotion", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^      emotion: emotionResult.emoji,$/", "language": "JavaScript", "kind": "property", "scope": "ChatPane.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "handleInputChange", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          onChange={handleInputChange}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "handleKeyDown", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          onKeyDown={handleKeyDown}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onKeyDown", "scopeKind": "class"}, {"_type": "tag", "name": "input", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          value={input}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.value", "scopeKind": "class"}, {"_type": "tag", "name": "isListening", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^            onClick={isListening ? stopListening : startListening}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "isPlaying", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^            disabled={isPlaying}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "isPlaying", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^            onClick={isPlaying ? stopPlayback : playBackHistory}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "isPlaying", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^          disabled={isPlaying}$/", "language": "JavaScript", "kind": "field", "scope": "ChatPane.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^      role: \"user\",$/", "language": "JavaScript", "kind": "property", "scope": "ChatPane.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "speakNext", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^    async function speakNext() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "ChatPane", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^      text: userText,$/", "language": "JavaScript", "kind": "property", "scope": "ChatPane.userMsg", "scopeKind": "class"}, {"_type": "tag", "name": "userMsg", "path": "/home/kavia/workspace/code-generation/voice-persona-ai-7cdff3c0/mimic_ai_frontend/src/components/ChatPane.js", "pattern": "/^    const userMsg = {$/", "language": "JavaScript", "kind": "class", "scope": "ChatPane", "scopeKind": "class"}], "hash": "7ac3d6f583d260c87eca71383cb1716f", "format-version": 4, "code-base-name": "mimic_ai_frontend", "filename": "mimic_ai_frontend/src/components/ChatPane.js", "fields": [{"name": "emotion: emotionResult.emoji,", "scope": "ChatPane.userMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={handleInputChange}", "scope": "ChatPane.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "onKeyDown={handleKeyDown}", "scope": "ChatPane.onKeyDown", "scopeKind": "class", "description": "unavailable"}, {"name": "value={input}", "scope": "ChatPane.value", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={isListening ? stopListening : startListening}", "scope": "ChatPane.onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={isPlaying}", "scope": "ChatPane.disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={isPlaying ? stopPlayback : playBackHistory}", "scope": "ChatPane.onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "role: \"user\",", "scope": "ChatPane.userMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "text: userText,", "scope": "ChatPane.userMsg", "scopeKind": "class", "description": "unavailable"}]}